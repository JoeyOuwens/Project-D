<ion-header [translucent]="true" >
  <ion-toolbar color="main">
    <ion-title style="margin-top: 10px;">Ongelezen berichten:</ion-title>
    <ion-buttons slot="end">
      <ion-button [disabled]="Gelezen.length !== list.length" align="right" (click)="close()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<div class="inner-content">
  <ion-card *ngFor="let message of list; index as i;" [color]="message.level === 'High' ? 'priority' : ''" style="min-height: 100px;">
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="1" class="header">
            <img src="https://via.placeholder.com/100" class="rounded float-left" alt="...">
          </ion-col>
          <ion-col size="11">
            <ion-row>
              <ion-col size="3" class="subheader">
                <ion-label> {{message.postedBy}}</ion-label>
                <br>
                <ion-label >{{message.datetimePosted}}</ion-label>
              </ion-col>
              <ion-col size="6" style="text-align: center;">
                <ion-label style="font-weight: bold; font-size: 175%;">{{message.title}}</ion-label>
              </ion-col>
              <ion-col size="3" >
                <ion-label class="ion-float-right">
                  {{message.subjectName}}</ion-label>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="12" class="subheader">
                <ion-item [color]="message.level === 'High' ? 'priority':  message.level=='Medium' ? 'warning' : 'secondary'" *ngIf="!message.opened" class="ion-margin-top" lines="none" >
                  <ion-label style="text-align:center; cursor: pointer;"   (click) = openMessage(i,message)>Open bericht</ion-label>
                </ion-item>
                <div *ngIf="message.opened">
                  <ion-row>
                    <ion-col size="12">
                      <p class="card-text text-left"> {{message.message}} </p>
                    </ion-col>
                  </ion-row>
                </div>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="message.opened">
          <ion-col size="3">
            <ion-button size="small" (click) = likeMessage(message) ><ion-icon name='heart-outline'></ion-icon> Interresant?</ion-button>
          </ion-col>
          <ion-col size="7">
            <ion-item [color]="message.level === 'High' ? 'priority':  message.level=='Medium' ? 'warning' : 'secondary'" lines="none" >
              <ion-label style="text-align:center; cursor: pointer;"  (click) = closeMessage(message) >Sluit bericht</ion-label>
            </ion-item>
          </ion-col>
          <ion-col size="2">
            <ion-item class="test">
              <ion-label>Gelezen?</ion-label>
              <ion-checkbox name="message.title" [disabled]="Gelezen[i]" (click) = CheckedMessage(i) checked="false">Gelezen?</ion-checkbox>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</div>
